<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="self report corona virus">
    <meta name="author" content="Brick and Spire">
    <link rel="icon" href="https://buildbiller-static-files.s3-us-west-2.amazonaws.com/images/magnifying-glass-cartoon-bigalbaloo-stock.jpg">

    <title>Self Report If You Believe You Have The Corona Virus</title>

    <!-- Bootstrap core CSS -->
    <link href="https://s3-us-west-2.amazonaws.com/buildbiller-static-files/css/bootstrap.css" rel="stylesheet">
    
    <!-- montserrat font reference -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:100" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,600" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="https://s3-us-west-2.amazonaws.com/buildbiller-static-files/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-73458586-3"></script>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-73458586-3');
</script>

<script src="https://www.google.com/recaptcha/api.js" async defer></script>
   
<style>
.div-border {
border:1px solid gray;
padding:5px;
}

.button-submit {
padding:5px 15px; 
background:#2be0b4; 
border:0 none;
cursor:pointer;
-webkit-border-radius: 5px;
border-radius: 5px; 
}

class {
font-family: "Montserrat";
}

h1 {
  font-size: 20pt;
  font-color:#333333;
  font-family: 'Montserrat', sans-serif;
  font-weight:500;
}
h3 {
  font-size: 16pt;
  font-color:#333333;
  font-family: 'Montserrat', sans-serif;
  font-weight:500;
}

form {
  font-family: 'Montserrat', sans-serif;
  font-weight: 500;
}
	
	hr {
	color:black;
	}
	
	#checkboxDiv {
	font-size: 12pt;
	font-family: 'Montserrat', sans-serif;
	}

	/* Always set the map height explicitly to define the size of the div
 * element that contains the map. */
#map {
  height: 25%;
}

#floating-panel {
position: absolute;
top: 10px;
left: 25%;
z-index: 5;
background-color: #fff;
padding: 5px;
border: 1px solid #999;
text-align: center;
font-family: 'Roboto','sans-serif';
line-height: 30px;
padding-left: 10px;
}
#floating-panel {
background-color: #fff;
border: 1px solid #999;
left: 25%;
padding: 5px;
position: absolute;
top: 10px;
z-index: 5;
}
</style>
	
     
  </head>

  <body>

    <!-- Page Content -->
 <div class="container">    
 
 <div class="col-md-6">
    <br> <br>
    <center><h1 class="mt-5">Self Report Your Coronavirus Case</h1> </center> 
    <br>
    <center> <h4>For the majority of us who do not have access to test kits, use this form to enter in your information if you believe that you have the Coronavirus disease (COVID-19) so we can start to get a better idea of the actual infection rate</h4></center> 
 <br><br>
 
	<form action="/update_cases" method="post" id="inputForm">
	  <div class="form-group">
	    <input class="form-control" pattern="[0-9]{5}" name="zipcode" id="zipcode" placeholder="Enter your zip code" required>
	  </div>
	  <div class="form-group">
          <label for="likelihood">Select How Likely You Believe You Are to Have the Virus</label>
	  <select class="form-control" id="likelihood" name="likelihood" required>
		<option value="" disabled selected>Indicate a percentage</option>
		<option value="0">0%</option>
		<option value="20">20%</option>
		<option value="40">40%</option>
		<option value="60">60%</option>
		<option value="80">80%</option>
		<option value="100">100%</option>
	  </select>
	  </div>
	  <div class="form-group">
          <label for="country">Select Your Country</label>
	  <select class="form-control" id="country" name="country" required>
		<option value="US" selected="">United States</option>
	  </select>
	  </div>
	  <div class="form-group">
    	  	<input type="checkbox" class="form-check-input" id="updateCheck" name="updateCheck" onclick="showPercent();">
    	  	<label class="form-check-label" for="updateCheck">Update a prior entry (if you believe your condition has worsened)</label>
          </div>
	  <div class="form-group" id="divPercent" style="display:none">
          <label for="likelihood">What Percent Did You Indicate Perviously</label>
	  <select class="form-control" name="priorLikelihood" id="priorLikelihood">
		<option value="" disabled selected>Indicate a percentage</option>
		<option value="0">0%</option>
		<option value="20">20%</option>
		<option value="40">40%</option>
		<option value="60">60%</option>
		<option value="80">80%</option>
		<option value="100">100%</option>
	  </select>
	  </div>
	  <div class="g-recaptcha" data-sitekey="6Le-NeMUAAAAACPLpxrA8UAYU5255R6En94r1aLn"></div>
	  <br>
	  <button id="submitButton" class="form-control button-submit" type="button" onclick="updateLatLong();">SUBMIT</button>
	</form>
<br>
<h3> There have been <%= count %> cases self-reported as of today</h3>
<br>
</div>
 <div class="col-md-6">
<br><br><br>
<div style="height:1000px display: inline-block" >
<iframe src="https://www.selfreportcorona.com/google_map" style="width:100%;height:500px;" allowfullscreen></iframe>
</div>
</div>
</div>
<div class="container">  
<a style="font-size:16pt;"href="https://www.cdc.gov/coronavirus/2019-ncov/symptoms-testing/symptoms.html " target="_blank">CDC Website: Check Your Corona Virus Symptoms</a> <br><br>
<a style="font-size:16pt;"href="https://www.cdc.gov/coronavirus/2019-ncov/prepare/prevention.html" target="_blank">CDC Website: How to Protect Yourself</a> <br><br><br>
</div>



  </body>

    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAstNWcTTCt8P0XbovUSv6u7mqKTcB7eZs&callback=initMap">
    </script>
  <script language="JavaScript">

function showPercent() {
    document.getElementById("divPercent").style.display = "inline";
}

function updateLatLong() 
{
      var lat = '';
      var lng = '';
      var address = document.getElementById("zipcode").value;
      if (document.getElementById("inputForm").checkValidity() == false) {
      	alert("Please enter all fields in the correct format");
      } else {
	      var geocoder= new google.maps.Geocoder();
	      geocoder.geocode( { 'address': address}, function(results, status) {
	        if (status == google.maps.GeocoderStatus.OK) {
	           lat = results[0].geometry.location.lat();
	           lng = results[0].geometry.location.lng();
	           var latInput = document.createElement("input");
	    	   latInput.setAttribute("type", "hidden");
	    	   latInput.setAttribute("name", "lat");
	    	   latInput.setAttribute("value", lat);
	    	   document.getElementById("inputForm").appendChild(latInput);
	    	   var longInput = document.createElement("input");
	    	   longInput.setAttribute("type", "hidden");
	    	   longInput.setAttribute("name", "long");
	    	   longInput.setAttribute("value", lng);
	    	   document.getElementById("inputForm").appendChild(longInput);
	    	   document.getElementById("inputForm").submit();
	        } else {
	          alert("Geocode was not successful for the following reason: " + status);
	        }
	      });
  	   } 
}

</script>
  </html>
